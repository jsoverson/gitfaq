<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="Posts"><meta property="og:description" content="Frequently asked questions for git and git workflows."><meta property="og:type" content="website"><meta property="og:url" content="https://gitfaq.org/posts/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Frequently asked questions for git and git workflows."><meta name=generator content="Hugo 0.101.0"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Blog","headline":"GitFAQ.org","url":"https://gitfaq.org/posts/","author":{"@type":"Person","name":"Candle"},"keywords":"","description":"Frequently asked questions for git and git workflows."}</script><link rel=canonical href=https://gitfaq.org/posts/><title>GitFAQ.org</title><link rel=preload href=/scss/main.min.b25f60d2abfb144f0ab162ca840eebe5f57ae46e00988ff32dfb97a70be94ec4.css as=style><link href=/scss/main.min.b25f60d2abfb144f0ab162ca840eebe5f57ae46e00988ff32dfb97a70be94ec4.css rel=stylesheet integrity><script defer src=https://gitfaq.org/js/fontawesome.min.f5072c55a0721857184db93a50561d7dc13975b4de2e19db7f81eb5f3fa57270.js integrity="sha256-9QcsVaByGFcYTbk6UFYdfcE5dbTeLhnbf4HrXz+lcnA=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://gitfaq.org/posts/index.xml title=GitFAQ.org><script src=https://gitfaq.org/js/haven.umd.min.5f4a3edd16edd243f2a9b07dbf1b371f8f1b18fbb29319aba09431678609a175.js integrity="sha256-X0o+3Rbt0kPyqbB9vxs3H48bGPuykxmroJQxZ4YJoXU=" crossorigin=anonymous></script>
<script>Haven.create({notification:{styles:{background:"#428bca",textColor:"#ffffff",buttonBackgroundColor:"#f71559",buttonTextColor:"#ffffff"}},translations:{en:{notification:{policy:"Learn more.",message:"This website uses cookies.",accept:"Agree",decline:"Disagree"}}},services:[{name:"google-analytics",options:{id:"UA-53866202-1"},purposes:["analytics"],inject:!0}]})</script></head><body><header class="content-header py-3 p-4"><div class=row><div class="col pt-1"><a class=nav-link href=https://gitfaq.org/>GitFAQ.org</a></div></div></header><main class="container mt-2"><div class="row g-5"><div class=col-md-8><h3 class="pb-4 mb-4 fst-italic border-bottom">Frequently asked questions for git and git workflows.</h3><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-add-only-a-portion-of-a-file/>How do I add only a portion of a file?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git add --patch &lt;file&gt;
</span></span></code></pre></div><p>This brings up an interactive interface that moves through each individual change to a file, allowing you to
only stage the changes that you want.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git add --patch package.json
</span></span><span style=display:flex><span>diff --git a/package.json b/package.json
</span></span><span style=display:flex><span>index 7a558a3..e03ce3f <span style=color:#f60>100644</span>
</span></span><span style=display:flex><span>--- a/package.json
</span></span><span style=display:flex><span>+++ b/package.json
</span></span><span style=display:flex><span>@@ -2,7 +2,6 @@
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;name&#34;</span>: <span style=color:#c30>&#34;package&#34;</span>,
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;version&#34;</span>: <span style=color:#c30>&#34;0.4.3&#34;</span>,
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;description&#34;</span>: <span style=color:#c30>&#34;this is an example package&#34;</span>,
</span></span><span style=display:flex><span>-  <span style=color:#c30>&#34;keywords&#34;</span>: <span style=color:#555>[</span><span style=color:#c30>&#34;key&#34;</span>, <span style=color:#c30>&#34;middleware&#34;</span>, <span style=color:#c30>&#34;connect&#34;</span><span style=color:#555>]</span>,
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;repository&#34;</span>: <span style=color:#c30>&#34;git://github.com/foo/bar.git&#34;</span>,
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;author&#34;</span>: <span style=color:#c30>&#34;Joe Smith &lt;jsmith@google.com&gt; (http://google.com)&#34;</span>,
</span></span><span style=display:flex><span>   <span style=color:#c30>&#34;repository&#34;</span>: <span style=color:#c30>&#34;git://github.com/foo/bar&#34;</span>,
</span></span><span style=display:flex><span>Stage this hunk <span style=color:#555>[</span>y,n,q,a,d,/,j,J,g,e,?<span style=color:#555>]</span>? y
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-change-my-last-commit-message/>How do I change my last commit message?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git commit --amend --only
</span></span></code></pre></div><p>Or, without staged changes:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git commit --amend
</span></span></code></pre></div><p><code>--amend</code> without other options combines the currently staged changes with the last commit and then opens an editor to
update the commit message. If you have staged changes, they will be added.</p><p>To update the last message even if there are staged changes (<code>git status</code> reports files under <code>Changes to be committed</code>)
then you can use the <code>-o</code> (or <code>--only</code>) option to indicate you want to amend the last commit but only use the files
that were previously committed.</p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-change-the-contents-of-a-commit-i-have-not-pushed/>How do I change the contents of a commit I have not pushed?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend &lt;files&gt;
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend --all
</span></span></code></pre></div><p>If the commit message does not need to be changed, add <code>--no-edit</code> eg</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend --all --no-edit
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-commit-a-file/>How do I commit a file?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git add file.js <span style=color:#09f;font-style:italic># stage the file</span>
</span></span><span style=display:flex><span>git commit      <span style=color:#09f;font-style:italic># commit the file</span>
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-compare-branches/>How do I compare branches?</a></h2></header><p><p>Find commits on remote <code>master</code> branch which are not on our local <code>master</code> branch:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git cherry -v origin/master master
</span></span></code></pre></div><p>Find commits on local <code>master</code> branch which are not on our local <code>feature</code> branch:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git cherry -v master feature
</span></span></code></pre></div><p>Find commits added since the <code>1.0.0</code> tag:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git cherry -v v1.0.0 master
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-completely-reset-my-local-repository/>How do I completely reset my local repository?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git reset
</span></span><span style=display:flex><span>git checkout .
</span></span><span style=display:flex><span>git clean -fdx
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-create-a-branch/>How do I create a branch?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git branch &lt;branch&gt;      <span style=color:#09f;font-style:italic># just creates a branch off the current sha</span>
</span></span><span style=display:flex><span>git checkout &lt;branch&gt;    <span style=color:#09f;font-style:italic># actually moves to the branch</span>
</span></span></code></pre></div><p>This can be simplified to:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git checkout -b &lt;branch&gt; <span style=color:#09f;font-style:italic># branches and moves to the branch in one command</span>
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-create-a-new-git-repository/>How do I create a new git repository?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git init
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m ‘initial commit’
</span></span><span style=display:flex><span>git remote add origin &lt;destination&gt;
</span></span><span style=display:flex><span>git push -u origin master
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-delete-a-branch/>How do I delete a branch?</a></h2></header><p><p>Delete a local branch <code>feature</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git branch -d feature
</span></span></code></pre></div><p>This will fail if the branch is not merged. To delete the branch regardless:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git branch -D feature
</span></span></code></pre></div><p>To delete a remote branch <code>feature</code> on remote <code>origin</code> (warning: There is no confirmation!):</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git push origin :feature
</span></span></code></pre></div><p>Note: <code>git-branch</code> documentation lists documentation for the option <code>-r</code> which works on remote <em>tracking</em> branches, not
branches on the remote; <code>git branch -D -r origin/feature</code> will delete the remote tracking branch <code>origin/feature</code>,
not the branch <code>feature</code> on remote <code>origin</code>. Pulling/fetching from the remote again will recreate that tracking branch.</p><p>To delete remote tracking branches that no longer exist on the remote:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git fetch --prune
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-get-a-list-of-files-that-have-changed-since-a-commit/>How do I get a list of files that have changed since a commit?</a></h2></header><p><p>After getting the appropriate hash from a command like <code>git log</code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git diff --name-only cda409f...
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-ignore-a-file-pattern/>How do I ignore a file pattern?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git ignore <span style=color:#c30>&#39;*.swp&#39;</span>
</span></span></code></pre></div><p>If you haven&rsquo;t ignored anything yet, this creates a <code>.gitignore</code> file which you probably want to add and track.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git add .gitignore
</span></span><span style=display:flex><span>git commit -m <span style=color:#c30>&#39;added .gitignore&#39;</span>
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-push-my-changes/>How do I push my changes?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git push
</span></span><span style=display:flex><span>git push origin branch-name
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-remove-all-untracked-files/>How do I remove all untracked files?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git clean -fd
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-revert-all-uncommitted-changes/>How do I revert all uncommitted changes?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git checkout .        <span style=color:#09f;font-style:italic># reset all tracked files</span>
</span></span><span style=display:flex><span>git checkout file.txt <span style=color:#09f;font-style:italic># reset file.txt</span>
</span></span><span style=display:flex><span>git checkout somedir/ <span style=color:#09f;font-style:italic># reset all files in somedir/</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git reset --hard HEAD
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-squash-commits/>How do I squash commits?</a></h2></header><p><p>There are multiple ways of squashing commits but the most recommended and straight forward is to use an interactive rebase, eg</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git rebase -i HEAD~4 <span style=color:#09f;font-style:italic># interactively rebase from 3 commits ago</span>
</span></span></code></pre></div><p>This command will bring up your editor with some helpful documentation and list of those commits and messages. The commits are listed in order with the oldest commit at the top and the latest commit at the bottom.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>pick f53d15b fixed edge <span style=color:#069;font-weight:700>case</span> with IE5
</span></span><span style=display:flex><span>pick 930c0e5 added code coverage
</span></span><span style=display:flex><span>pick fa7c471 fixed lint errors
</span></span><span style=display:flex><span>pick fb57c85 added feature Foo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Rebase 0a4b808..db5d725 onto 0a4b808</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Commands:</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  p, pick = use commit</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  r, reword = use commit, but edit the commit message</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  e, edit = use commit, but stop for amending</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  s, squash = use commit, but meld into previous commit</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  f, fixup = like &#34;squash&#34;, but discard this commit&#39;s log message</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#  x, exec = run command (the rest of the line) using shell</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># These lines can be re-ordered; they are executed from top to bottom.</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># If you remove a line here THAT COMMIT WILL BE LOST.</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># However, if you remove everything, the rebase will be aborted.</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Note that empty commits are commented out</span>
</span></span></code></pre></div><p>To squash the last 4 commits into the most recent, you would change <code>pick</code> to <code>squash</code> for commits 2, 3, and 4.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>pick f53d15b fixed edge <span style=color:#069;font-weight:700>case</span> with IE5
</span></span><span style=display:flex><span>squash 930c0e5 added code coverage
</span></span><span style=display:flex><span>squash fa7c471 fixed lint errors
</span></span><span style=display:flex><span>squash fb57c85 added feature Foo
</span></span></code></pre></div><p>When the file is saved and the editor is quit, git will automatically squash those 4 commits into one. Your editor
will then pop up again allowing you to change the commit message for the resulting commit(s).</p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-undo-a-commit/>How do I undo a commit?</a></h2></header><p><p>Do you want to undo the commit and never see the changes ever again?</p><pre tabindex=0><code>git reset --hard HEAD~1
</code></pre><p>Do you want to keep your changes and just undo the actual act of committing?</p><pre tabindex=0><code>git reset HEAD~1
</code></pre></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-undo-git-add/>How do I undo git add?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git reset
</span></span></code></pre></div><p><em>or</em></p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git reset file.txt
</span></span></code></pre></div><p><code>git add</code> simply stages changes to be committed. To undo that action,
all that&rsquo;s needed is to <code>git reset</code> the file or list of files.</p><p>To undo a commit, see [How do I undo a commit?](<a href=http://gitfaq.org/#How>http://gitfaq.org/#How</a> do I undo a commit?)</p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/how-do-i-update-my-repository/>How do I update my repository?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git pull <span style=color:#555>[</span>remote<span style=color:#555>]</span> <span style=color:#555>[</span>branch<span style=color:#555>]</span>
</span></span></code></pre></div><p>To update using rebase :</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git pull --rebase <span style=color:#555>[</span>remote<span style=color:#555>]</span> <span style=color:#555>[</span>branch<span style=color:#555>]</span>
</span></span></code></pre></div><p>This performs the same as above, but using <code>rebase</code> instead of <code>merge</code>.</p><p>(See also <a href=http://gitfaq.org/articles/what-is-the-difference-between-fetch-and-pull.html>What is the difference between fetch and pull</a> for more details)</p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-does-changing-history-mean/>What does &ldquo;Changing History&rdquo; mean?</a></h2></header><p><p>In git, each commit is tagged with a unique SHA-1 hash. These are critical when resolving differences between sources that
have diverged. This sequence of SHAs is referred to as the &ldquo;history&rdquo; and &ldquo;changing history&rdquo; is regenerating
those hashes via any number of legitimate means.</p><p>A modified history makes it very difficult to resolve differences between two repositories because, from git&rsquo;s perspective,
the SHAs have changed and commits that <em>should</em> refer to the same changes now look to be two different changes at different times.</p><p>Rewriting history has a number of legitimate uses but requires communication proportional to the number of people who
have already based development off the history that is to be changed. It is important that changes are resolved before
history is rewritten and that usually means waiting for all important work to be pushed.</p><p>Rewriting <em>local history</em> up to the point of shared changes is rarely a problem. The number of people you need to communicate with
is usually limited to just you.</p><p>On shared feature branches, the burden of communication increases to the people who are developing with you on that branch. This
is also usually not a problem if you expect branches to be short lived and highly collaborative (assuming high communication).</p><p>On mainline branches that anyone could base off of for any arbitrary work (eg &ldquo;master&rdquo; or &ldquo;develop&rdquo;),
changing history is very problematic and should only be done in extreme cases where the cost is understood.
Problems occur because you can rarely be sure you&rsquo;ve communicated with <em>everybody</em> you need to in order to
make sure important changes are pushed before a history modification.</p><p>See also <a href=/articles/what-is-local-shared-history.html>What is local history/shared history?</a></p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-if-i-forgot-to-add-a-file-in-my-last-commit/>What if I forgot to add a file in my last commit?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git add file.js     <span style=color:#09f;font-style:italic># the file that needed to be included</span>
</span></span><span style=display:flex><span>git commit --amend  <span style=color:#09f;font-style:italic># amend the commit done before step 1 with the added file</span>
</span></span></code></pre></div><p>This will add the file to the previous commit and replace it with a new commit.</p><p>This can be simplified into one command:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend file.js
</span></span></code></pre></div><p>If the commit message doesn&rsquo;t need to be updated:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend --no-edit file.js
</span></span></code></pre></div><p>If all the edited files need to be added to the last commit:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git commit --amend --no-edit --all
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-origin/>What is &ldquo;origin&rdquo;?</a></h2></header><p><p>Origin is the default name for the remote server. &ldquo;Remotes&rdquo; can be named anything, you can see the names of all
your remotes with the command <code>remote</code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git remote -v
</span></span><span style=display:flex><span>origin	git@github.com:jsoverson/gitfaq.git <span style=color:#555>(</span>fetch<span style=color:#555>)</span>
</span></span><span style=display:flex><span>origin	git@github.com:jsoverson/gitfaq.git <span style=color:#555>(</span>push<span style=color:#555>)</span>
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-a-detached-head/>What is a &ldquo;detached head&rdquo;?</a></h2></header><p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>You are in <span style=color:#c30>&#39;detached HEAD&#39;</span> state. You can look around, make experimental
</span></span><span style=display:flex><span>changes and commit them, and you can discard any commits you make in this
</span></span><span style=display:flex><span>state without impacting any branches by performing another checkout.
</span></span></code></pre></div><p>This is not an error message and is nothing to be worried about. This is simply a notice
that you are not attached to an actual branch. For example, take the following commits on <code>master</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>master    A-B-C-D-E-F-G
</span></span></code></pre></div><p>Using the example above where the <code>master</code> branch has commits <code>A-G</code>, if you check out master you will be placed at the &rsquo;tip'
of master, commit <code>G</code>. If you remain at the tip of a branch, you are considered &ldquo;attached.&rdquo;</p><p>If you check out an arbitrary commit, you are no longer necessarily associated with a branch and are considered &ldquo;detached.&rdquo;</p><p>This is useful to explore the state of code at a commit, and you can also create and move to a branch from a &ldquo;detached head&rdquo; state.</p><p>If this state was unintentional, you can get back to where you likely want to be by checking out the branch you expected to be on, eg</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git checkout master
</span></span><span style=display:flex><span>Previous HEAD position was 183409d... added file.txt
</span></span><span style=display:flex><span>Switched to branch <span style=color:#c30>&#39;master&#39;</span>
</span></span></code></pre></div><p>Try navigating through detached head by yourself. The following block sets up a fresh git repository with two commits.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git init
</span></span><span style=display:flex><span>touch file.txt
</span></span><span style=display:flex><span>git add file.txt
</span></span><span style=display:flex><span>git commit -m <span style=color:#c30>&#39;added file.txt&#39;</span>
</span></span><span style=display:flex><span>touch file2.txt
</span></span><span style=display:flex><span>git add file2.txt
</span></span><span style=display:flex><span>git commit -m <span style=color:#c30>&#39;added file2.txt&#39;</span>
</span></span></code></pre></div><p><code>HEAD</code> is now at the tip of master. Check out the previous commit by issuing the command <code>git checkout HEAD~1</code> which references
the commit 1 before <code>HEAD</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git checkout HEAD~1
</span></span><span style=display:flex><span>git co HEAD~1
</span></span><span style=display:flex><span>Note: checking out <span style=color:#c30>&#39;HEAD~1&#39;</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You are in <span style=color:#c30>&#39;detached HEAD&#39;</span> state. You can look around, make experimental
</span></span><span style=display:flex><span>changes and commit them, and you can discard any commits you make in this
</span></span><span style=display:flex><span>state without impacting any branches by performing another checkout.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>If you want to create a new branch to retain commits you create, you may
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>do</span> so <span style=color:#555>(</span>now or later<span style=color:#555>)</span> by using -b with the checkout <span style=color:#366>command</span> again. Example:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  git checkout -b new_branch_name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HEAD is now at 183409d... added file.txt
</span></span></code></pre></div><p>To get back to the tip of master, <code>checkout master</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git checkout master
</span></span><span style=display:flex><span>Previous HEAD position was 183409d... added file.txt
</span></span><span style=display:flex><span>Switched to branch <span style=color:#c30>&#39;master&#39;</span>
</span></span></code></pre></div><p>Notice, though, if you try to check out what commit the tip of master was initially pointing to you still will be
detached!</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git co ec3...7da
</span></span><span style=display:flex><span>Previous HEAD position was 183409d... added file.txt
</span></span><span style=display:flex><span>HEAD is now at ec36c1b... added file2.txt
</span></span><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>HEAD detached at ec36c1b
</span></span><span style=display:flex><span>nothing to commit, working directory clean
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-a-remote/>What is a &ldquo;remote&rdquo;?</a></h2></header><p><p>The term &ldquo;remote&rdquo; is any remote destination that you may want to push or pull from. This is often a git
repository hosted on a git server like those run by Github.</p><p>You can have multiple remotes.</p><p>You can view the remotes you have set with <code>git remote</code> and <code>git remote -v</code> gives you more important information.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git remote -v
</span></span><span style=display:flex><span>origin	git@github.com:jsoverson/gitfaq.git <span style=color:#555>(</span>fetch<span style=color:#555>)</span>
</span></span><span style=display:flex><span>origin	git@github.com:jsoverson/gitfaq.git <span style=color:#555>(</span>push<span style=color:#555>)</span>
</span></span></code></pre></div><p>You can add new remotes via <code>git remote add &lt;destination></code> eg</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git remote add michaelficarra git@github.com:michaelficarra/gitfaq.git
</span></span></code></pre></div><p>You can change the destination via <code>git remote set-url &lt;remote> &lt;destination></code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git remote set-url origin git@github.com:michaelficarra/gitfaq.git
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-difference-between-master-head/>What is difference between master & HEAD?</a></h2></header><p><p><code>master</code> is the common name for the default branch. It doesn&rsquo;t need to exist, but it often does.</p><p><code>HEAD</code> can be thought of as a variable pointing to a specific commit. It can change and isn&rsquo;t related to a branch.</p><p>Issuing new commits changes <code>HEAD</code>, checking anything out changes <code>HEAD</code>.</p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-local-history/shared-history/>What is local history/shared history?</a></h2></header><p><p>&ldquo;Remote history&rdquo; or &ldquo;Shared History&rdquo; is used to refer to history that is shared with others. &ldquo;Local history&rdquo; is used to
refer to changes that have never been shared.</p><p>For the following commit history, &ldquo;Shared History"and &ldquo;Local History&rdquo; boundaries are shown,</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>A-B-C-D-E                origin/master
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>A-B-C-D-E-F-G-H-I        origin/feature1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>A-B-C-D-E-F-G-H-I-J-K-J  feature1 <span style=color:#555>(</span><span style=color:#366>local</span><span style=color:#555>)</span>
</span></span><span style=display:flex><span>|       | |     | |   |
</span></span><span style=display:flex><span>|       | |     | +-+-+
</span></span><span style=display:flex><span>|       | |     |   |
</span></span><span style=display:flex><span>|       | +--+--+   Local History
</span></span><span style=display:flex><span>|       |    |
</span></span><span style=display:flex><span>+---+---+  Shared History <span style=color:#555>(</span>branch<span style=color:#555>)</span>
</span></span><span style=display:flex><span>    |
</span></span><span style=display:flex><span>Shared History <span style=color:#555>(</span>master<span style=color:#555>)</span>
</span></span></code></pre></div></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-rebasing/>What is rebasing?</a></h2></header><p><p>Rebasing is establishing a new base for a series of commits.</p><p>In the example below, the branch <code>feature</code> deviated at commit <code>B</code>, while the <code>master</code> branch moved along in parallel.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>A-B-C-D-E    master
</span></span><span style=display:flex><span>   <span style=color:#c30;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#c30;font-weight:700></span>    X-Y-Z    feature
</span></span></code></pre></div><p>You can rebase with the <code>rebase</code> command. For example, to rebase the <code>feature</code> branch on <code>master</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git checkout feature
</span></span><span style=display:flex><span>$ git rebase master
</span></span></code></pre></div><p>Rebasing essentially rewinds the commits on a branch, brings the branch up to date with the rebase target, and then
replays the rewound commits over it, leaving the timeline looking like this.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>A-B-C-D-E        master
</span></span><span style=display:flex><span>         <span style=color:#c30;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#c30;font-weight:700></span>          X<span style=color:#c30>&#39;-Y&#39;</span>-Z<span style=color:#a00;background-color:#faa>&#39;</span>  feature
</span></span></code></pre></div><p>Warning this changes history, see also <a href=/articles/what-does-changing-history-mean.html>What does changing history mean?</a></p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-squashing/>What is squashing?</a></h2></header><p><p>Squashing is the act of turning multiple git commits into fewer. There are many reasons you might want to do this but the most straightforward is to simply keep the commit history cleaner and filled with high value changes.</p><p>Consider the following set of commits</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>f53d15b fixed edge <span style=color:#069;font-weight:700>case</span> with IE5
</span></span><span style=display:flex><span>930c0e5 increased code coverage
</span></span><span style=display:flex><span>fa7c471 fixed lint errors
</span></span><span style=display:flex><span>fb57c85 added feature Foo
</span></span></code></pre></div><p>In a local repository that level of detail may be useful; at some point a regression may have been introduced
while fixing lint errors and you would be able to revert to a previous commit to do some testing.</p><p>In the grand scheme of living software, this level of granularity becomes noisier than it is worth. When preparing code
to enter a main line branch it can become more valuable to squash commits into logical chunks so that the history becomes
more valuable as a record of important changes. The following commits could then be squashed into a single commit, eg</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>a3545a5 added feature Foo
</span></span></code></pre></div><p>See also <a href=/articles/how-do-I-squash-commits.html>how do I squash commits?</a></p></p></article><article class=content-post><header><h2 class="content-title mb-1" dir=auto><a href=https://gitfaq.org/1/01/what-is-the-difference-between-fetch-and-pull/>What is the difference between fetch and pull?</a></h2></header><p><p><code>git pull [remote] [branch]</code> is the same as</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git fetch <span style=color:#555>[</span>remote<span style=color:#555>]</span> <span style=color:#555>[</span>branch<span style=color:#555>]</span>
</span></span><span style=display:flex><span>git merge <span style=color:#555>[</span>remote<span style=color:#555>][</span>/branch<span style=color:#555>]</span>
</span></span></code></pre></div><p><code>git pull --rebase [remote] [branch]</code> is the same as</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git fetch <span style=color:#555>[</span>remote<span style=color:#555>]</span> <span style=color:#555>[</span>branch<span style=color:#555>]</span>
</span></span><span style=display:flex><span>git rebase <span style=color:#555>[</span>remote<span style=color:#555>][</span>/branch<span style=color:#555>]</span>
</span></span></code></pre></div></p></article></div><div class=col-md-4><div style=top:2rem><div class="p-4 mb-3 bg-light rounded"><h4 class=fst-italic>About</h4><p class=mb-0 dir=auto>This FAQ is brought to you by <a href=https://candle.dev>Candle</a>.</p></div><div class=p-4><ol class="list-unstyled mb-0"><li><a href=/1/01/how-do-i-add-only-a-portion-of-a-file/>How do I add only a portion of a file?</a></li><li><a href=/1/01/how-do-i-change-my-last-commit-message/>How do I change my last commit message?</a></li><li><a href=/1/01/how-do-i-change-the-contents-of-a-commit-i-have-not-pushed/>How do I change the contents of a commit I have not pushed?</a></li><li><a href=/1/01/how-do-i-commit-a-file/>How do I commit a file?</a></li><li><a href=/1/01/how-do-i-compare-branches/>How do I compare branches?</a></li><li><a href=/1/01/how-do-i-completely-reset-my-local-repository/>How do I completely reset my local repository?</a></li><li><a href=/1/01/how-do-i-create-a-branch/>How do I create a branch?</a></li><li><a href=/1/01/how-do-i-create-a-new-git-repository/>How do I create a new git repository?</a></li><li><a href=/1/01/how-do-i-delete-a-branch/>How do I delete a branch?</a></li><li><a href=/1/01/how-do-i-get-a-list-of-files-that-have-changed-since-a-commit/>How do I get a list of files that have changed since a commit?</a></li><li><a href=/1/01/how-do-i-ignore-a-file-pattern/>How do I ignore a file pattern?</a></li><li><a href=/1/01/how-do-i-push-my-changes/>How do I push my changes?</a></li><li><a href=/1/01/how-do-i-remove-all-untracked-files/>How do I remove all untracked files?</a></li><li><a href=/1/01/how-do-i-revert-all-uncommitted-changes/>How do I revert all uncommitted changes?</a></li><li><a href=/1/01/how-do-i-squash-commits/>How do I squash commits?</a></li><li><a href=/1/01/how-do-i-undo-a-commit/>How do I undo a commit?</a></li><li><a href=/1/01/how-do-i-undo-git-add/>How do I undo git add?</a></li><li><a href=/1/01/how-do-i-update-my-repository/>How do I update my repository?</a></li><li><a href=/1/01/what-does-changing-history-mean/>What does &ldquo;Changing History&rdquo; mean?</a></li><li><a href=/1/01/what-if-i-forgot-to-add-a-file-in-my-last-commit/>What if I forgot to add a file in my last commit?</a></li><li><a href=/1/01/what-is-origin/>What is &ldquo;origin&rdquo;?</a></li><li><a href=/1/01/what-is-a-detached-head/>What is a &ldquo;detached head&rdquo;?</a></li><li><a href=/1/01/what-is-a-remote/>What is a &ldquo;remote&rdquo;?</a></li><li><a href=/1/01/what-is-difference-between-master-head/>What is difference between master & HEAD?</a></li><li><a href=/1/01/what-is-local-history/shared-history/>What is local history/shared history?</a></li><li><a href=/1/01/what-is-rebasing/>What is rebasing?</a></li><li><a href=/1/01/what-is-squashing/>What is squashing?</a></li><li><a href=/1/01/what-is-the-difference-between-fetch-and-pull/>What is the difference between fetch and pull?</a></li></ol></div></div><div class=p-4><h4>Links</h4><ol class="list-unstyled mb-0"><li><a href=https://candle.dev>Made by Candle</a></li></ol></div></div></div></main><footer class="container content-footer"><div class=row><p dir=auto>Except where otherwise noted, content on this site is licensed under the <a href=https://www.apache.org/licenses/LICENSE-2.0.html>Apache 2.0</a> license.</p><p><a href=#>Back to top</a></p></div></footer></body></html>